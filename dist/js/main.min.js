!function e(t,n,i){function o(s,r){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function i(){var e=this;e.init=function(){var e=document.querySelector("html");e.classList.remove("no-js"),e.classList.add("js")}}t.exports=i},{}],2:[function(e,t,n){(function(e){"use strict";function n(){var t=this,n="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null;t.init=function(){var e=n(".js-modal-link"),t=n(".js-modal-form"),i=n(".js-overlay"),o=n("body"),a=n(".js-modal-close"),s=n(".js-invest-sum-chosen-span"),r=n(".js-invest-sum-chosen"),l=n(".js-invest-period-chosen"),u=n(".js-invest-type-chosen");e.on("click",function(e){var a=n(".js-percents:checked").val(),c=n(".js-invest-sum-value").text(),d=n(".js-invest-period-value").text();t.addClass("is-visible"),i.addClass("is-visible"),o.addClass("is-modal-opened"),s.text(c),r.val(c),l.val(d),u.val(a),e.preventDefault()}),a.on("click",function(e){t.removeClass("is-visible"),i.removeClass("is-visible"),o.removeClass("is-modal-opened"),e.preventDefault()})}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){(function(e){"use strict";function n(){var t=this,n="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,i=n(window),o=n(".js-totop");t.init=function(){o.length&&o.on("click",function(e){o.addClass("is-clicked"),n("html, body").animate({scrollTop:0},1e3,"swing",function(){o.removeClass("is-clicked")}),e.preventDefault()})},t.toggle=function(){var e=function(){o.length&&(i.scrollTop()>300?o.addClass("is-visible"):o.removeClass("is-visible"))};e(),i.scroll(function(){e()})}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){(function(n){"use strict";function i(t){var i=this,o="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,a="undefined"!=typeof window?window.CALCULATOR_DEFAULTS:"undefined"!=typeof n?n.CALCULATOR_DEFAULTS:null;i.CALCULATOR_CURRENT_VALUES={d:a.d,p:a.p,t:a.t,type:a.type},i.init=function(){var e=o(t);e.length&&(i.setValues(),i.initCheckboxPercents(),i.calculateInterest())},i.formatSumValue=function(t){var n=e("./_formatNumber"),i=new n(t);return i.init()},i.initSliderSum=function(){var e=o(".js-slider-sum");if(e.length){var t=e.parents(".js-calc-slider");t.each(function(e){var n=t.eq(e),o=n.find(".js-invest-sum-input"),s=o.val(),r=n.find(".js-invest-sum-value"),l=n.find(".js-slider-sum"),u=function(e){var t=i.formatSumValue(e);r.text(t)};u(s),l.slider({range:"min",min:l.data("min")||a.dMin,max:l.data("max")||a.dMax,value:l.data("start")||i.CALCULATOR_CURRENT_VALUES.d,step:a.dStep,slide:function(e,t){i.CALCULATOR_CURRENT_VALUES.d=t.value,u(t.value),o.val(t.value),i.calculateInterest()},change:function(e,t){i.CALCULATOR_CURRENT_VALUES.d=t.value,u(t.value),o.val(t.value),i.calculateInterest()}})})}},i.initSliderPeriod=function(){var e=o(".js-slider-period");if(e.length){var t=e.parents(".js-calc-slider");t.each(function(e){var n=t.eq(e),o=n.find(".js-invest-period-input"),s=n.find(".js-invest-period-value"),r=n.find(".js-slider-period");r.slider({range:"min",min:r.data("min")||a.tMin,max:r.data("max")||a.tMax,value:r.data("start")||i.CALCULATOR_CURRENT_VALUES.t,step:a.tStep,slide:function(e,t){i.CALCULATOR_CURRENT_VALUES.t=t.value,s.text(t.value),o.val(t.value),i.calculatePercents(),i.initSliderPercent(),i.calculateInterest()},change:function(e,t){i.CALCULATOR_CURRENT_VALUES.t=t.value,s.text(t.value),o.val(t.value),i.calculatePercents(),i.initSliderPercent(),i.calculateInterest()}})})}},i.initSliderPercent=function(){var e=o(".js-slider-percent");if(e.length){var t=e.parents(".js-calc-slider");t.each(function(e){var n=t.eq(e),o=n.find(".js-invest-percent-input"),s=n.find(".js-invest-percent-value"),r=n.find(".js-slider-percent");r.slider({range:"min",min:r.data("min")||a.pMin-1,max:r.data("max")||a.pMax,value:r.data("start")||i.CALCULATOR_CURRENT_VALUES.p,step:a.pStep,slide:function(e,t){i.CALCULATOR_CURRENT_VALUES.p=t.value,s.text(t.value),o.val(t.value),i.calculateInterest()},change:function(e,t){i.CALCULATOR_CURRENT_VALUES.p=t.value,s.text(t.value),o.val(t.value),i.calculateInterest()},disabled:!0})})}},i.initCheckboxPercents=function(){var e=o(".js-percents");if(e.length){var t=o(".js-calc-table-monthly"),n=o(".js-calc-table-quarterly");e.on("change",function(){var e=o(this).val();"monthly"===e?(t.removeClass("is-hidden"),n.addClass("is-hidden"),i.CALCULATOR_CURRENT_VALUES.type="monthly"):(t.addClass("is-hidden"),n.removeClass("is-hidden"),i.CALCULATOR_CURRENT_VALUES.type="quarterly"),i.calculatePercents(),i.calculateInterest()})}},i.calculatePercents=function(){"monthly"===i.CALCULATOR_CURRENT_VALUES.type?i.CALCULATOR_CURRENT_VALUES.t<=a.tBoundary?i.CALCULATOR_CURRENT_VALUES.p=a.pMonthly1:i.CALCULATOR_CURRENT_VALUES.p=a.pMonthly2:i.CALCULATOR_CURRENT_VALUES.t<=a.tBoundary?i.CALCULATOR_CURRENT_VALUES.p=a.pQuarterly1:i.CALCULATOR_CURRENT_VALUES.p=a.pQuarterly2,i.initSliderPercent()},i.setValues=function(){var e=o(".js-invest-sum-input"),t=o(".js-invest-sum-value"),n=o(".js-invest-period-input"),a=o(".js-invest-period-value"),s=o(".js-invest-percent-input"),r=o(".js-invest-percent-value"),l=o(".js-percents");e.val(i.CALCULATOR_CURRENT_VALUES.d),t.text(i.formatSumValue(i.CALCULATOR_CURRENT_VALUES.d)),i.initSliderSum(),n.val(i.CALCULATOR_CURRENT_VALUES.t),a.text(i.CALCULATOR_CURRENT_VALUES.t),i.initSliderPeriod(),s.val(i.CALCULATOR_CURRENT_VALUES.p),r.text(i.CALCULATOR_CURRENT_VALUES.p),i.initSliderPercent(),l.each(function(){o(this).val()===i.CALCULATOR_CURRENT_VALUES.type&&(o(this).prop("checked",!0),o(this).siblings().prop("checked",!1))})},i.calculateInterest=function(){var e=o(".js-calc-sum-quarterly"),t=o(".js-calc-sum-monthly"),n=o(".js-calc-sum-total"),s=i.CALCULATOR_CURRENT_VALUES.d*i.CALCULATOR_CURRENT_VALUES.p*30/(100*a.T),r=Math.round(s),l=Math.round(i.CALCULATOR_CURRENT_VALUES.d+s*i.CALCULATOR_CURRENT_VALUES.t);e.text(i.formatSumValue(3*r)),t.text(i.formatSumValue(r)),n.text(i.formatSumValue(l))}}t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_formatNumber":5}],5:[function(e,t,n){"use strict";function i(e){var t=this;t.init=function(){for(var t=(e+"").split("").reverse().join(""),n="",i=t.length-1;i>=0;--i)n+=t[i],i%3===0&&(n+=" ");return n}}t.exports=i},{}],6:[function(e,t,n){(function(e){"use strict";function n(e){var t=this;t.init=function(){if(e){var n=/^[а-яА-ЯёЁ\-\s]+$/,i={nameInvest:{presence:!0,format:{pattern:n}},emailInvest:{presence:!0,email:!0},phoneInvest:{presence:!0,length:{is:11,tokenizer:function(e){return e.replace(/\D+/g,"")}}}},o="js-form-item",a=e.querySelectorAll("input[type=text], input[type=email]"),s=Array.prototype.slice.call(a);t.handleFormSubmit(e,i,s,o),t.hadnleInputChange(e,i,s,o),t.hadnleInputBlur(e,i,s,o)}},t.handleFormSubmit=function(e,n,a,s){e.addEventListener("submit",function(r){r.preventDefault();var l=o(e,n);if(t.showErrors(e,l||{},a,s),l){var u=e.querySelector(".has-error");u&&u.querySelector("[name]").focus()}else e.classList.add("is-sending"),i.ajax({url:"./invest-form.php",type:"POST",data:new FormData(this),dataType:"json",contentType:!1,cache:!1,processData:!1}).done(function(t){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),document.querySelector(".js-modal-close").dispatchEvent(n),e.classList.remove("is-sending");var i=document.createElement("div");i.classList.add("c-form-result"),document.body.appendChild(i);var o=document.createElement("h2");o.classList.add("o-pltz-h2"),i.appendChild(o);var a=document.querySelector(".o-overlay");a.classList.add("is-visible");var s=function(){i.parentNode.removeChild(i),a.classList.remove("is-visible")};t.success?(o.innerHTML=t.msg,e.reset()):(o.classList.add("o-pltz-h2_error"),t.errors?(t.errors.email&&(o.innerHTML=t.errors.email),t.errors.name&&(o.innerHTML=t.errors.name),t.errors.phone&&(o.innerHTML=t.errors.phone)):o.innerHTML=t.msg),setTimeout(s,3e3)})})},t.hadnleInputFocus=function(e,n,i,o){i.forEach(function(e){e.addEventListener("focus",function(){var n=t.closestParent(e.parentNode,o);t.resetFormGroup(n)})})},t.hadnleInputChange=function(e,n,i,a){i.forEach(function(i){i.addEventListener("change",function(){var s=o(e,n)||{};t.showErrorsForInput(i,s[i.name],a)})})},t.hadnleInputKeyup=function(e,n,i,a){i.forEach(function(i){i.addEventListener("keyup",function(){var s=o(e,n)||{};t.showErrorsForInput(i,s[i.name],a)})})},t.hadnleInputBlur=function(e,n,i,a){i.forEach(function(i){i.addEventListener("blur",function(){var s=o(e,n)||{};t.showErrorsForInput(i,s[i.name],a)})})},t.resetFormGroup=function(e){var t=e.querySelectorAll(".o-form-info"),n=Array.prototype.slice.call(t);e.classList.remove("has-error"),e.classList.remove("has-success"),n.forEach(function(e){e.innerHTML=""})},t.showErrors=function(e,n,i,o){i.forEach(function(e){t.showErrorsForInput(e,n&&n[e.name],o)})},t.showErrorsForInput=function(e,n,i){var o=t.closestParent(e.parentNode,i),a=o.querySelector(".o-form-info");t.resetFormGroup(o),n?(o.classList.add("has-error"),n.forEach(function(e){t.addError(a,e)})):o.classList.add("has-success")},t.closestParent=function(e,n){return e&&e!==document?e.classList.contains(n)?e:t.closestParent(e.parentNode,n):null},t.addError=function(e,t){var n=document.createElement("p");n.classList.add("o-form-info__text"),n.innerText=t,e.appendChild(n)}}var i="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,o="undefined"!=typeof window?window.validate:"undefined"!=typeof e?e.validate:null;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){(function(e){"use strict";function n(){var e=this;e.init=function(){var e=document.querySelector("html"),t=e.getAttribute("lang");"en"===t?(i.validators.presence.options={message:"^Required"},i.validators.email.options={message:"^Incorrect email address"},i.validators.length.options={wrongLength:"^Should be %{count} characters",tooShort:"^Should be minimum %{count} characters"},i.validators.format.options={message:function(e,t){if("nameInvest"===t)return i.format("^Only cyrillic characters and whitespaces")}}):"ru"===t&&(i.validators.presence.options={message:"^Поле обязательно к заполнению"},i.validators.email.options={message:"^Введите корректный адрес электронной почты"},i.validators.length.options={wrongLength:"^Поле должно содержать %{count} символов",tooShort:"^Поле должно содержать минимум %{count} символов"},i.validators.format.options={message:function(e,t){if("nameInvest"===t)return i.format("^Только русские буквы и пробелы")}})}}var i="undefined"!=typeof window?window.validate:"undefined"!=typeof e?e.validate:null;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){(function(e){"use strict";function n(){var t=this,n="undefined"!=typeof window?window.Inputmask:"undefined"!=typeof e?e.Inputmask:null,i=document.querySelectorAll(".js-input-phone");t.init=function(){if(i){var e=new n({mask:"+7 (999) 999 99 99",placeholder:"_"});e.mask(i)}}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){"use strict";function i(){var e=this,t=document.querySelectorAll([".o-pltz-text-input",".o-pltz-textarea"]);e.init=function(){if(t){var e=Array.prototype.slice.call(t);e.forEach(function(e){var t=e.parentNode,n=function(){0===e.value.length?t.classList.add("is-empty"):t.classList.remove("is-empty")},i=function(){n(),t.classList.add("is-focused")},o=function(){n(),t.classList.remove("is-focused")};n(),e.addEventListener("focus",i),e.addEventListener("blur",o)})}}}t.exports=i},{}],10:[function(e,t,n){"use strict";function i(){var t=e("./_isJS"),n=new t;n.init()}function o(){var t=e("./_totop"),n=new t;n.toggle(),n.init()}function a(){var t=e("./calculator/_calculatorInvest"),n=new t(".js-calculator-invest");n.init()}function s(){var t=e("./forms/_statesOfControls"),n=new t;n.init()}function r(){var t=e("./forms/_inputMaskedPhone"),n=new t;n.init()}function l(){var t=e("./_modalPltz"),n=new t;n.init()}function u(){var t=document.querySelector(".js-modal-form"),n=e("./forms/_formValidate"),i=new n(t),o=e("./forms/_formValidateTranslate"),a=new o;i.init(),a.init()}function c(){i(),a(),u(),o(),s(),r(),l()}c()},{"./_isJS":1,"./_modalPltz":2,"./_totop":3,"./calculator/_calculatorInvest":4,"./forms/_formValidate":6,"./forms/_formValidateTranslate":7,"./forms/_inputMaskedPhone":8,"./forms/_statesOfControls":9}]},{},[10]);